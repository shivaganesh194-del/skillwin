var options = {
  key: "rzp_test_S5ix2RrfFFJITe",
  amount: 1000, // â‚¹10
  currency: "INR",
  name: "SkillWin",
  description: "Skill Contest Entry",

  method: {
    upi: true,
    card: false,
    netbanking: false,
    wallet: false,
    paylater: false
  },

  handler: async function (response) {
    const phone = document.getElementById("phone").value;

    const res = await fetch("/api/create-order", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        phone: phone,
        payment_id: response.razorpay_payment_id
      }),
    });
const options = {
  key: process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,
  amount: 1000,
  currency: "INR",
  name: "SkillWin",
  description: "Contest Entry",
  handler: function (response) {
    console.log(response);
  }
};
handler: async function (response) {

  // ðŸ”¹ 1. Save ticket in Supabase
  await fetch("/api/create-ticket", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      phone: userPhone,                // the phone number user entered
      contest_id: "science_contest_1", // contest id
      is_correct: true                 // user answered correctly
    })
  });

  // ðŸ”¹ 2. Show success screen
  setEntrySuccess(true);
}

const rzp = new window.Razorpay(options);
rzp.open();

   
