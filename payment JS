<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
async function startPayment() {
  const res = await fetch('/api/create-order', {
    method: 'POST'
  });

  const data = await res.json();

  const options = {
    key: data.key,
    amount: data.amount,
    currency: "INR",
    name: "SkillWin Contest",
    description: "Contest Entry Fee",
    order_id: data.order_id,

    method: {
      upi: true,
      card: false,
      netbanking: false,
      wallet: false,
      emi: false,
      paylater: false
    },

    handler: function (response) {
      alert("Payment successful! Ticket will be sent shortly.");
      // redirect or show success message
    }
  };

  const rzp = new Razorpay(options);
  rzp.open();
}
</script>

<button onclick="startPayment()">Pay â‚¹10 via UPI</button>
